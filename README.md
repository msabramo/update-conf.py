update-conf.py
==============

Generate config files from 'conf.d' like directories.

Split your config file into smaller files in a 'conf.d' like directory and optionally a main file.

If the main files was not provided, only the splitted files in the 'conf.d' like dir will be used. The new file will consist of the main file followed by the splitted files. These last ones will be merged in the lexical sort order of their names. 

Files ending with '.bak', '.old' and some others terminations will be ignored.

Commands can be defined in a config file. In this case, it's only needed to pass the name of commmand.

Commom usage examples can be found in [quick-start](#quick-start).

This project was based in the [update-conf.d project](https://github.com/Atha/update-conf.d).


Requirements
------------

Python 2.7 or newer (if you are using Ubuntu):

    apt-get install python

Some Python packages:

- shutil
- argparse
- ConfigParser
- subprocess

If you are using Ubuntu, all the previous modules will be installed when you install Python via `apt-get`.


Quick start
-----------

To pass all params via command line:

    # using 'conf.d' dir in the same parent dir
    ./update-conf.py -f /etc/snmp/snmpd.conf
    
    # using 'snmpd.conf.d' dir
    ./update-conf.py -f /etc/snmp/snmpd.conf -d /etc/snmp/snmpd.conf.d
    
    # using 'conf.d' explicity and a main file
    ./update-conf.py -f /etc/snmp/snmpd.conf -d /etc/snmp/conf.d -m /etc/snmp/snmpd.main

To use a 'update-conf.py.conf' file, first insert the params in the conf file:

    [snmpd]
    file = /etc/snmp/snmpd.conf
    dir = /etc/snmp/conf.d
    main = /etc/snmp/snmpd.main

After, pass the command name via command line:

    # using the default 'update-conf.py.conf' config file
    ./update-conf.py -n snmpd

    # using an alternative config file
    ./update-conf.py -c myconf.conf -n snmpd

To get help:

    ./update-conf.py --help

And more...


License
-------

This software is protected by Revised BSD License.
See: [update-conf.py License](LICENSE)


TODO
----

- Best use of the argparse module, using groups

- Comments in the generated file, depending of the config file type

  ```
  # Auto-generated by update-conf.py
  ```

  or

  ```
  ; Auto-generated by update-conf.py
  ```

- Verbosity
